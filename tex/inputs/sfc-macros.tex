
% Color defines
\definecolor{lightgray}{gray}{0.9}
\definecolor{darkgreen}{rgb}{0.0,0.4,0.0}
\definecolor{darkpurple}{rgb}{0.5,0.0,0.5}
\definecolor{orange}{rgb}{0.8,0.2,0.0}
\definecolor{darkblue}{rgb}{0.0,0.0,0.6}
\definecolor{darkred}{rgb}{0.7,0.0,0.0}
\definecolor{lightblue}{rgb}{0.6,0.6,1.0}

% Coloring macros
\newcommand{\IMPORTANTcolor}[1]{\textcolor{darkred}{#1}}
\newcommand{\STEPcolor}[1]{\textcolor{lightgray}{#1}}
%\newcommand{\STEPcolor}[1]{#1}
\newcommand{\GUARDcolor}[1]{\textcolor{darkgreen}{#1}}
\newcommand{\SPECcolor}[1]{\textcolor{darkpurple}{#1}}
\newcommand{\ABcolor}[1]{\textcolor{lightblue}{#1}}
\newcommand{\colorSPEC}{\color{darkpurple}}
\newcommand{\RESULTcolor}[1]{\textcolor{orange}{#1}}
\newcommand{\HEADBGcolor}[1]{\textcolor{blue}{#1}}
\newcommand{\HEADFGcolor}[1]{\textcolor{white}{#1}}
\newcommand{\TITLEcolor}[1]{\textcolor{darkblue}{\textbf{#1}}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


% Macros for SFC pictures


\newcommand{\INSTEP}[1]{\parbox{3cm}{\texttt{\footnotesize~~~~%
        \begin{tabular}{|c|l|} \hline
          N & #1 \\ \hline
        \end{tabular}
}}}
\newcommand{\INGUARD}[1]{{\texttt{\footnotesize~~#1}}}


\newcommand{\GUARD}[1][]{%
 \put(-1.5,0){\linethickness{0.2\unitlength}\line(1,0){3}}%
              \put(2.5,0){\makebox(0,0)[l]{\GUARDcolor{#1}}}}
\newcommand{\STEP}[1][]{{%
 \put(-2.5,-2.5){\STEPcolor{\rule{5\unitlength}{5\unitlength}}}%
 \put(-2.5,-2.5){\linethickness{0.2\unitlength}%
                 \framebox(5,5){#1}}}}
\newcommand{\STEPinitial}[1][]{{%
 \put(-2.5,-2.5){\STEPcolor{\rule{5\unitlength}{5\unitlength}}}%
 \put(-2.5,-2.5){\linethickness{0.2\unitlength}%
                 \framebox(5,5){#1}}}
 \put(-2.2,-2.2){\linethickness{0.2\unitlength}%
                 \framebox(4.4,4.4){}}}
\newcommand{\LINE}{\linethickness{0.15\unitlength}\line}
\newcommand{\VECTOR}{\thicklines\linethickness{0.15\unitlength}\vector}

% Mark a step as active
\newcommand{\Mark}{\put(-3,-3){\linethickness{0.5\unitlength}%
                   \IMPORTANTcolor{\framebox(6,6){}}}}

% Action block
\newcommand{\AB}[3][\put(2.5,1){\line(1,0){2}}]{\linethickness{0.15\unitlength}
  #1
  \put(4.5,-0.5){\ABcolor{\rule{12\unitlength}{3\unitlength}}}
  \put(4.5,2.5){\line(1,0){12}}\put(4.5,-0.5){\line(1,0){12}}
  \put(4.5,-0.5){\line(0,1){3}}\put(7.0,-0.5){\line(0,1){3}}
  \put(16.5,-0.5){\line(0,1){3}}
  \put(5.75,1){\makebox(0,0){\small\texttt{#2}}}
  \put(11.75,1){\makebox(0,0){\small\textit{#3}}}
}

% Mark an action as active
\newcommand{\MarkA}{\put(7,-0.5){\linethickness{0.4\unitlength}%
                    \IMPORTANTcolor{\framebox(9.5,3){}}}}

% Action block with timing constraint
\newcommand{\ABt}[3][]{\linethickness{0.15\unitlength}
  \put(2.5,1){\line(1,0){2}}
  \put(4.5,-1){\ABcolor{\rule{14.5\unitlength}{4\unitlength}}}
  \put(4.5,3){\line(1,0){14.5}}\put(4.5,-1){\line(1,0){14.5}}
  \put(4.5,-1){\line(0,1){4}}\put(9.5,-1){\line(0,1){4}}
  \put(19,-1){\line(0,1){4}}
  \put(7,2.7){\makebox(0,0)[t]{\small\texttt{#2}}}
  \put(7,-0.8){\makebox(0,0)[b]{\tiny\textrm{#1}}}
  \put(14.25,1){\makebox(0,0){\small\textit{#3}}}
}

% Mark a timed action as active
\newcommand{\MarkAt}{\put(9.5,-1){\linethickness{0.4\unitlength}%
                     \IMPORTANTcolor{\framebox(9.5,4){}}}}

